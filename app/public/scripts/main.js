function switchBoards(){$(".switcher").toggle("slide",function(){$("#secondBoard").toggleClass("hidden")})}function fadeBoards(){$(".switcher").fadeToggle("slow",function(){$("#secondBoard").fadeToggle("slow").toggleClass("hidden")})}function saveOrder(){showMessage===!0&&(window.removeEventListener("click",fadeBoards),setTimeout(function(){for(var e=document.querySelectorAll('div[class^="flex-widget-"]'),t=0;t<e.length;t++)e[t].dataset.position=t+1;document.getElementById("saveIt").classList.remove("hidden")},1e3))}$(function(){$("#sortable").sortable(),$("#sortable").disableSelection()}),$(function(){$("#sortable2").sortable(),$("#sortable2").disableSelection()}),document.querySelectorAll('input[type="checkbox"], input[type="radio"], button').forEach(function(e){e.addEventListener("focus",function(){this.parentNode.classList.add("focused")}),e.addEventListener("blur",function(){this.parentNode.classList.remove("focused")})}),document.querySelector("#favouritesButton")&&(document.querySelector("#favouritesButton").onclick=function(){document.getElementById(this.dataset.target).classList.remove("hidden"),this.classList.add("hidden")},document.getElementById("closeFave").onclick=function(){document.getElementById("faveWrapper").classList.add("hidden"),document.querySelector("#favouritesButton").classList.remove("hidden")}),$(".select-radio").click(function(){$(this).parent().addClass("selected"),$(this).parent().siblings().not($("legend")).removeClass("selected"),$("#widget-select").fadeIn("slow")}),$("input[type=checkbox]").change(function(){$(this).parent().hasClass("selected")?$(this).parent().removeClass("selected"):($(this).parent().addClass("selected"),$("#preview-submit").fadeIn("fast").removeClass("hidden"))});var orderingObject={},sizeCounter=0;if($(".select-checkbox").click(function(){var e=document.getElementById("pc-select").checked?"pc":"tv";document.querySelector("#"+this.dataset.target).classList.add("flex-widget-preview-"+document.querySelector("#"+this.dataset.target).dataset.width),document.querySelectorAll([".flex-wrapper-preview",".flex-wrapper-preview-two"]).forEach(function(t){t.classList.contains(e+"-wrapper")||t.classList.add(e+"-wrapper")});var t=$(".flex-wrapper-preview div:last");document.getElementById("previewPane").classList.contains("hidden")&&document.getElementById("previewPane").classList.remove("hidden"),$("#tv-select").parent().hasClass("selected")&&sizeCounter>=10||$("#pc-select").parent().hasClass("selected")&&sizeCounter>=8?(t=$(".flex-wrapper-preview-two div:last"),$(".flex-wrapper-preview-two").hasClass("hidden")&&($(".flex-wrapper-preview-two").removeClass("hidden"),$("#preview-breaker").fadeIn("slow").removeClass("hidden"))):($(".flex-wrapper-preview-two").addClass("hidden"),$("#preview-breaker").fadeOut(1).addClass("hidden")),$("#"+$(this).data("target")).fadeIn("fast").removeClass("hidden").addClass("displayed"),$("#"+$(this).data("target")).insertAfter(t);var s=document.getElementById(this.dataset.target);s.dataset.position=document.querySelectorAll(".flex-widget-preview-1.displayed").length+document.querySelectorAll(".flex-widget-preview-3.displayed").length+document.querySelectorAll(".flex-widget-preview-2.displayed").length+$(".flex-widget-preview-4.displayed").length,orderingObject[s.dataset.position]={widget:$(this).val(),size:s.dataset.width,display:e,height:s.dataset.height,position:s.dataset.position,dataCaller:s.dataset.caller,dataRate:s.dataset.rate,style:s.dataset.style},sizeCounter+=parseInt(s.dataset.width)*parseInt(s.dataset.height),$(this).parent().hasClass("selected")&&($("#"+$(this).data("target")).fadeOut("fast").addClass("hidden").removeClass("displayed"),sizeCounter-=2*parseInt(s.dataset.width))}),$("#preview-submit").click(function(){$("#hiddenOrdering").val(JSON.stringify(orderingObject));var e=["Just getting your dashboards ready...","Parsing JSON...","Working on it...","Loading..."];$("#dashboard-settings, #settingsButton").addClass("hidden"),$("#loadingMessages").fadeIn("slow").removeClass("hidden"),$("#loadingMessage").text(e[Math.floor(Math.random()*e.length)])}),$(".switcher-button").click(function(){$("#dashboard-settings, #settingsButton").addClass("hidden"),$("#settingsMenu").fadeIn("slow"),document.querySelector(".favourites-wrapper").classList.add("hidden")}),$(".return-button").click(function(){$("#settingsMenu").fadeOut("slow",function(){$("#dashboard-settings, #settingsButton").removeClass("hidden"),document.querySelector(".favourites-wrapper").classList.remove("hidden")})}),document.querySelectorAll("button.settings-tab-button").forEach(function(e){e.onclick=function(){document.querySelectorAll("button.settings-tab-button").forEach(function(e){e.classList.contains("current-tab")&&(e.classList.remove("current-tab"),document.getElementById(e.dataset.target).classList.add("hidden"))}),this.classList.add("current-tab"),document.getElementById(this.dataset.target).classList.remove("hidden")}}),document.getElementById("settingsMenu")&&(!function(){function e(e,t,s){document.querySelectorAll(e).forEach(function(e){document.querySelector("#"+e.dataset.target).dataset[t]=e.value*s})}document.querySelector("#updateSizes").onclick=function(){e(".width-input","width",1),e(".height-input","height",1),this.classList.add("clicked"),document.getElementById("updateSizeMessage").classList.remove("hidden"),setTimeout(function(){document.getElementById("updateSizes").classList.remove("clicked"),document.getElementById("updateSizeMessage").classList.add("hidden")},3e3)},document.querySelector("#updateCallRate").onclick=function(){e(".call-rate-input","rate",6e4),this.classList.add("clicked"),document.getElementById("updateRateMessage").classList.remove("hidden"),setTimeout(function(){document.getElementById("updateCallRate").classList.remove("clicked"),document.getElementById("updateRateMessage").classList.add("hidden")},3e3)},document.querySelectorAll(".settings-input-radio").forEach(function(e){e.onclick=function(){this.parentNode.parentNode.childNodes.forEach(function(e){"undefined"!=typeof e.classList&&e.classList.remove("selected")}),this.parentNode.classList.add("selected")}})}(),document.querySelectorAll(".st-input").forEach(function(e){e.onclick=function(){var e=this.value;this.parentNode.parentNode.childNodes.forEach(function(e){"undefined"!=typeof e.classList&&e.classList.contains("st-type")&&e.classList.remove("selected")}),document.querySelector("#"+this.dataset.target).parentNode.childNodes.forEach(function(e){"undefined"!=typeof e.classList&&e.classList.add("hidden")}),document.querySelector("#"+this.dataset.target).classList.remove("hidden"),this.parentNode.classList.add("selected"),document.querySelectorAll('div[id$="-preview"]').forEach(function(t){"undefined"!=typeof t.dataset.style&&(t.dataset.style=e)})}})),$("#sortable2").children().length>0&&window.addEventListener("click",fadeBoards),document.querySelector("#sortable")&&!document.querySelector("#loadedDashboard")){var showMessage=!0,orderObject={},allWidgets=document.querySelectorAll('div[class^="flex-widget-"]');allWidgets.forEach(function(e){e.addEventListener("mouseup",saveOrder)}),document.getElementById("saveYes").onclick=function(){document.getElementById("saveName").classList.remove("hidden")},document.getElementById("sendData").onclick=function(){allWidgets.forEach(function(e){orderObject[parseInt(e.dataset.position)]={widget:e.dataset.widget,size:e.dataset.size,display:e.dataset.display,dataRate:e.dataset.rate,style:e.dataset.style}}),$.post("save-fave",{ordering:JSON.stringify(orderObject),name:document.getElementById("name").value}).done(function(e){$("#savedMessage").text(e),setTimeout(function(){document.getElementById("saveIt").classList.add("hidden")},3e3)}),window.addEventListener("click",fadeBoards)},document.getElementById("saveNo").onclick=function(){document.getElementById("saveIt").classList.add("hidden"),window.addEventListener("click",fadeBoards)},document.getElementById("saveStop").onclick=function(){showMessage=!1,document.getElementById("saveIt").classList.add("hidden"),window.addEventListener("click",fadeBoards)}}$("#getFave").click(function(){$.post("retrieve-fave",function(e,t){$("#retrievedData").text(e[1].widget)})}),document.querySelector("#weatherOne")&&setInterval(function(){$.post("weather",function(e,t){$(".icon-background-weather i").attr("class","wi wi-"+e.weather[0].icon),$(".weather-city").text(e.name+" Weather"),$(".weather-type").text(e.weather[0].main),$(".weather-temp").text(e.main.temp+"Â°C")})},parseInt(document.getElementById("weatherOne").dataset.rate)),document.querySelector("#xkcdOne")&&setInterval(function(){$.post("xkcd",function(e,t){$(".xkcd-heading").html("XKCD: "+e.num+"<br>"+e.safe_title),$(".xkcd-comic").attr("src",e.img)})},parseInt(document.getElementById("xkcdOne").dataset.rate)),document.querySelector(".widget-calendar")&&setInterval(function(){$.post("calendar",function(e,t){if($("#events").html(""),e.length<1)$("#events").append('<i class="fa fa-calendar calendar-icon" aria-hidden="true"></i>No events today</p>');else for(var s=0;s<e.length;s++)$("#events").append('<p class="calendar-event"><i class="fa fa-calendar calendar-icon" aria-hidden="true"></i>'+e[s].start+" <br>"+e[s].summary+"</p>")})},parseInt(document.querySelector(".widget-calendar").dataset.rate));