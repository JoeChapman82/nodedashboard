function switchBoards(){$(".switcher").toggle("slide",function(){$("#secondBoard").toggleClass("hidden")})}function fadeBoards(){var e=[];document.querySelectorAll(".sortable").forEach(function(t){t.childNodes.length>1&&e.push(t.parentNode)}),e.every(function(t,a){return!!t.classList.contains("hidden")||($(t).fadeOut("2000",function(){t.classList.add("hidden")}),a===e.length-1?($(e[0]).fadeIn("2000",function(){e[0].classList.remove("hidden")}),!1):($(e[a+1]).fadeIn("2000",function(){e[a+1].classList.remove("hidden")}),!1))})}function saveOrder(){showMessage===!0&&(window.removeEventListener("click",fadeBoards),setTimeout(function(){for(var e=document.querySelectorAll('div[class^="flex-widget-"]'),t=0;t<e.length;t++)e[t].dataset.position=t+1;document.getElementById("saveIt").classList.remove("hidden")},1e3))}$(function(){$(".sortable").sortable(),$(".sortable").disableSelection()}),document.querySelectorAll('input[type="checkbox"], input[type="radio"], button').forEach(function(e){e.addEventListener("focus",function(){this.parentNode.classList.add("focused")}),e.addEventListener("blur",function(){this.parentNode.classList.remove("focused")})}),document.querySelector("#favouritesButton")&&(document.querySelector("#favouritesButton").onclick=function(){document.getElementById(this.dataset.target).classList.remove("hidden"),this.classList.add("hidden")},document.getElementById("closeFave").onclick=function(){document.getElementById("faveWrapper").classList.add("hidden"),document.querySelector("#favouritesButton").classList.remove("hidden")}),$(".select-radio").click(function(){$(this).parent().addClass("selected"),$(this).parent().siblings().not($("legend")).removeClass("selected"),$("#widget-select").fadeIn("slow")}),$("input[type=checkbox]").change(function(){$(this).parent().hasClass("selected")?$(this).parent().removeClass("selected"):($(this).parent().addClass("selected"),$("#preview-submit").fadeIn("fast").removeClass("hidden"))});var orderingObject={},sizeCounter=0;if($(".select-checkbox").click(function(){var e=document.getElementById("pc-select").checked?"pc":"tv";document.querySelector("#"+this.dataset.target).classList.add("flex-widget-preview-"+e+"-"+document.querySelector("#"+this.dataset.target).dataset.width),document.querySelectorAll([".flex-wrapper-preview",".flex-wrapper-preview-two",".flex-wrapper-preview-three",".flex-wrapper-preview-four"]).forEach(function(t){t.classList.contains(e+"-wrapper")||t.classList.add(e+"-wrapper")});var t=$(".flex-wrapper-preview div:last");document.getElementById("previewPane").classList.contains("hidden")&&document.getElementById("previewPane").classList.remove("hidden"),"tv"===e&&sizeCounter>=30||"pc"===e&&sizeCounter>=24?(t=$(".flex-wrapper-preview-four div:last"),$(".flex-wrapper-preview-four").hasClass("hidden")&&($(".flex-wrapper-preview-four").removeClass("hidden"),$("#preview-breaker-two").fadeIn("slow").removeClass("hidden"))):"tv"===e&&sizeCounter>=20||"pc"===e&&sizeCounter>=16?(t=$(".flex-wrapper-preview-three div:last"),$(".flex-wrapper-preview-three").hasClass("hidden")&&$(".flex-wrapper-preview-three").removeClass("hidden")):("tv"===e&&sizeCounter>=10||"pc"===e&&sizeCounter>=8)&&(t=$(".flex-wrapper-preview-two div:last"),$(".flex-wrapper-preview-two").hasClass("hidden")&&($(".flex-wrapper-preview-two").removeClass("hidden"),$("#preview-breaker").fadeIn("slow").removeClass("hidden"))),$("#"+$(this).data("target")).fadeIn("fast").removeClass("hidden").addClass("displayed"),$("#"+$(this).data("target")).insertAfter(t);var a=document.getElementById(this.dataset.target);a.dataset.position=document.querySelectorAll(".flex-widget-preview-"+e+"-1.displayed").length+document.querySelectorAll(".flex-widget-preview-"+e+"-2.displayed").length+document.querySelectorAll(".flex-widget-preview-"+e+"-3.displayed").length+$(".flex-widget-preview-"+e+"-4.displayed").length,orderingObject[a.dataset.position]={widget:$(this).val(),size:a.dataset.width,display:e,height:a.dataset.height,position:a.dataset.position,dataCaller:a.dataset.caller,dataRate:a.dataset.rate,dataCallTo:a.dataset.call,style:a.dataset.style},sizeCounter+=parseInt(a.dataset.width)*parseInt(a.dataset.height),$(this).parent().hasClass("selected")&&($("#"+$(this).data("target")).fadeOut("fast").addClass("hidden").removeClass("displayed"),sizeCounter-=2*parseInt(a.dataset.width))}),$("#preview-submit").click(function(){$("#hiddenOrdering").val(JSON.stringify(orderingObject));var e=["Just getting your dashboards ready...","Parsing JSON...","Working on it...","Loading..."];$("#dashboard-settings, #settingsButton").addClass("hidden"),$("#loadingMessages").fadeIn("slow").removeClass("hidden"),$("#loadingMessage").text(e[Math.floor(Math.random()*e.length)])}),$(".switcher-button").click(function(){$("#dashboard-settings, #settingsButton").addClass("hidden"),$("#settingsMenu").fadeIn("slow"),document.querySelector(".favourites-wrapper").classList.add("hidden")}),$(".return-button").click(function(){$("#settingsMenu").fadeOut("slow",function(){$("#dashboard-settings, #settingsButton").removeClass("hidden"),document.querySelector(".favourites-wrapper").classList.remove("hidden")})}),document.querySelectorAll("button.settings-tab-button").forEach(function(e){e.onclick=function(){document.querySelectorAll("button.settings-tab-button").forEach(function(e){e.classList.contains("current-tab")&&(e.classList.remove("current-tab"),document.getElementById(e.dataset.target).classList.add("hidden"))}),this.classList.add("current-tab"),document.getElementById(this.dataset.target).classList.remove("hidden")}}),document.getElementById("settingsMenu")&&(!function(){function e(e,t,a){document.querySelectorAll(e).forEach(function(e){document.querySelector("#"+e.dataset.target).dataset[t]=e.value*a})}document.querySelector("#updateSizes").onclick=function(){e(".width-input","width",1),e(".height-input","height",1),this.classList.add("clicked"),document.getElementById("updateSizeMessage").classList.remove("hidden"),setTimeout(function(){document.getElementById("updateSizes").classList.remove("clicked"),document.getElementById("updateSizeMessage").classList.add("hidden")},3e3)},document.querySelector("#updateCallRate").onclick=function(){e(".call-rate-input","rate",6e4),this.classList.add("clicked"),document.getElementById("updateRateMessage").classList.remove("hidden"),setTimeout(function(){document.getElementById("updateCallRate").classList.remove("clicked"),document.getElementById("updateRateMessage").classList.add("hidden")},3e3)},document.querySelectorAll(".settings-input-radio").forEach(function(e){e.onclick=function(){this.parentNode.parentNode.childNodes.forEach(function(e){"undefined"!=typeof e.classList&&e.classList.remove("selected")}),this.parentNode.classList.add("selected")}})}(),document.querySelectorAll(".st-input").forEach(function(e){e.onclick=function(){var e=this.value;this.parentNode.parentNode.childNodes.forEach(function(e){"undefined"!=typeof e.classList&&e.classList.contains("st-type")&&e.classList.remove("selected")}),document.querySelector("#"+this.dataset.target).parentNode.childNodes.forEach(function(e){"undefined"!=typeof e.classList&&e.classList.add("hidden")}),document.querySelector("#"+this.dataset.target).classList.remove("hidden"),this.parentNode.classList.add("selected"),document.querySelectorAll('div[id$="-preview"]').forEach(function(t){"undefined"!=typeof t.dataset.style&&(t.dataset.style=e)})}})),$("#secondBoard").children().length>0&&window.addEventListener("click",fadeBoards),document.querySelector(".sortable")&&!document.querySelector("#loadedDashboard")){var showMessage=!0,orderObject={},allWidgets=document.querySelectorAll('div[class^="flex-widget-"]');allWidgets.forEach(function(e){e.addEventListener("mouseup",saveOrder)}),document.getElementById("saveYes").onclick=function(){document.getElementById("saveName").classList.remove("hidden")},document.getElementById("sendData").onclick=function(){allWidgets.forEach(function(e){orderObject[parseInt(e.dataset.position)]={widget:e.dataset.widget,size:e.dataset.size,display:e.dataset.display,dataRate:e.dataset.rate,dataCallTo:e.dataset.call,style:e.dataset.style}}),$.post("save-fave",{ordering:JSON.stringify(orderObject),name:document.getElementById("name").value}).done(function(e){$("#savedMessage").text(e),setTimeout(function(){document.getElementById("saveIt").classList.add("hidden")},3e3)}),window.addEventListener("click",fadeBoards)},document.getElementById("saveNo").onclick=function(){document.getElementById("saveIt").classList.add("hidden"),window.addEventListener("click",fadeBoards)},document.getElementById("saveStop").onclick=function(){showMessage=!1,document.getElementById("saveIt").classList.add("hidden"),window.addEventListener("click",fadeBoards)}}$("#getFave").click(function(){$.post("retrieve-fave",function(e,t){$("#retrievedData").text(e[1].widget)})}),document.querySelector("#weatherOne")&&setInterval(function(){$.post("weather",function(e,t){$(".icon-background-weather i").attr("class","wi wi-"+e.weather[0].icon),$(".weather-city").text(e.name+" Weather"),$(".weather-type").text(e.weather[0].main),$(".weather-temp").text(e.main.temp+"Â°C")})},parseInt(document.getElementById("weatherOne").dataset.rate)),document.querySelector(".widget-calendar")&&setInterval(function(){$.post("calendar",function(e,t){if($("#events").html(""),e.length<1)$("#events").append('<i class="fa fa-calendar calendar-icon" aria-hidden="true"></i>No events today</p>');else for(var a=0;a<e.length;a++)$("#events").append('<p class="calendar-event"><i class="fa fa-calendar calendar-icon" aria-hidden="true"></i>'+e[a].start+" <br>"+e[a].summary+"</p>")})},parseInt(document.querySelector(".widget-calendar").dataset.rate));