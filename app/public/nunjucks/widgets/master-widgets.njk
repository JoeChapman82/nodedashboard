{% macro aClock(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-aClock" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
    <canvas id="clock" width="250" height="300">
      Please upgrade your browser.
</canvas>
</div>
{% endmacro %}

{% macro barChart(dataset, data) %}

<table id="barTable" class="data-table">
    {% for item in data.barChart %}
    <tr>
    <td>{{ item[0] }}</td>
    <td>{{ item[1] }}</td>
    </tr>
    {% endfor %}
</table>
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-barChart" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <div id="barDataDiv" data-x="The X axis" data-y="The Y axis" data-title="Bar Chart - Random data"></div>
  <canvas id="barCanvas" class="bar-chart-display" width="{{ dataset.size | int * 305}}" height="350"></canvas>
</div>
{% endmacro %}

{% macro calendar(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-calendar" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <div class="center-wrapper">
    <div class="icon-background-calendar">
      <i class="fa fa-calendar"></i>
    </div>
  <p class="calender-heading">Todays Events</p>
  <div id="events">
  {% if data.calendar.length < 1 %}
  <p class="calendar-event"><i class="fa fa-calendar calendar-icon" aria-hidden="true"></i>
    No events today</p>
 {% else %}
{% for event in data.calendar %}
<p class="calendar-event"><i class="fa fa-calendar calendar-icon" aria-hidden="true"></i>{{ event.start }}
<br>{{ event.summary }}</p>
{% endfor %}
{% endif %}
</div>
  </div>
</div>
{% endmacro %}

{% macro dClock(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-dClock" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <div class="icon-background">
    <i class="fa fa-clock-o"></i>
  </div>
  <p id="digitalDate" class="digital-date"></p>
  <p id="digitalTime" class="digital-time"></p>
</div>
{% endmacro %}

{% macro countdown(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} canvas-display widget-countdown" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.rate }}", data-style="{{ dataset.style }}">
<p class="countdown-event">COUNTDOWN TO BEDTIME</p>
<p id="countdownTimerDays" class="countdown-timer-days"><br></p>
<p id="countdownTimerTime" class="countdown-timer-time"></p>
<p id="countdownDueDate" class="countdown-due-date">Due date:<br> 29-Mar-2017 19:00:00</p>
</div>
{% endmacro %}

{% macro doughnutChart(dataset, data) %}
<table id="dataChartDoughnut" class="data-table">
    {% for item in data.doughnutChart %}
    <tr>
    <td>{{ item[0] }}</td>
    <td>{{ item[1] }}</td>
    </tr>
    {% endfor %}
</table>
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-doughnutChart" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}"  data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <div id="doughnutChartData" data-x="x" data-y="y" data-title="Doughnut Chart"></div>
  <canvas id="doughnutChartDisplay" class="doughnut-chart-display" width="275" height="360"></canvas>
</div>
{% endmacro %}

{% macro map(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-map" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <h3>New York</h3>
  <iframe id="mapWidgetFrame" src="//www.google.com/maps/embed/v1/place?q=Empire State Building&zoom=17&key=AIzaSyCjCwOg99rHP3xGtJyM7LpPdnayHEz4Bxg"></iframe>
</div>
{% endmacro %}

{% macro notices(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-notices" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
<h2>PYI Dashboard</h2>
<p>Made by ME Digital</p>
</div>
{% endmacro %}

{% macro pieChart(dataset, data) %}
<table id="dataChartPie" class="data-table">
    {% for item in data.pieChart %}
    <tr>
    <td>{{ item[0] }}</td>
    <td>{{ item[1] }}</td>
    </tr>
    {% endfor %}
</table>
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-pieChart" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <div id="pieChartData" data-x="The X Axis" data-y="The Y Axis" data-title="Pie Chart"></div>
  <canvas id="pieChartDisplay" class="pie-chart-display" width="275" height="360"></canvas>
</div>
{% endmacro %}

{% macro progress(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-progress" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <p class="progress-meter-heading">Sprint Progress</p>
<div id="progressMeterData" data-percent="86"></div>
<canvas id="progressMeterDisplay" class="progress-meter-canvas" width="200" height="200"></canvas>
<span>Some text here</span>
<br>
<span>Last updated at { time }</span>
</div>
{% endmacro %}

{% macro scatterChart(dataset, data) %}
<table id="dataChartScatter" class="data-table">
    {% for item in data.scatterChart %}
    <tr>
    <td>{{ item[0] }}</td>
    <td>{{ item[1] }}</td>
    </tr>
    {% endfor %}
</table>
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-scatterChart" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <div id="scatterChartData" data-x="Large numbers" data-y="Smaller numbers" data-title="Scatter Chart"></div>
  <canvas id="scatterChartDisplay" class="scatter-chart-display" width="300" height="360"></canvas>
</div>
{% endmacro %}

{% macro xkcd(dataset, data) %}
<div id="xkcdOne" class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-xkcd" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <p class="xkcd-heading">XKCD: {{ data.xkcd.num }}<br>
  {{ data.xkcd.title }}</p>
  <br>
  <img class="xkcd-comic" src="{{ data.xkcd.img }}" alt="Todays XKCD">
</div>
{% endmacro %}

{% macro weather(dataset, data) %}
 <h1>{{ data.weather[0] | dump }}</h1>
<h1>{{ data.weather[0].icon }}</h1>
<div id="weatherOne" class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-weather" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <div class="icon-background-weather">
    {% if data.weather.weather[0].icon %}
    <i class="wi wi-{{ data.weather.weather[0].icon }}"></i>
    {% else %}
    <i class="wi wi-thermometer"></i>
    {% endif %}
  </div>
<p class="weather-city">{{ data.weather.name }} Weather</p>
<p class="weather-type">{{ data.weather.weather[0].main }}</p>
<p class="weather-temp">{{ data.weather.main.temp | round(1) }}Â°C</p>
</div>
{% endmacro %}

{% macro jenkinsAll(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-jenkins-all" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <p id="jenkinsJobsHeading" class="jenkins-all-heading">{{ data.jenkins.jobs | length }} Jenkins jobs found</p>
  {% for item in data.jenkins.jobs %}
  <p>{{ loop.index }}.{{ item.name }}: {{ item.color }}: {{ item.healthReport | dump }}: {{ item.lastCompletedBuild | dump }}</p>
  {% endfor %}
</div>
{% endmacro %}

{% macro jenkins(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-jenkins" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  <div class="icon-background-alt">
    <i class="fa fa-thumbs-o-up jenkins-icon" aria-hidden="true"></i>
  </div>
  <p id="jenkinsJobsHeading" class="jenkins-jobs-heading">All jenkins builds are successful</p>
</div>
{% endmacro %}

{% macro jenkinsSingle(dataset, data) %}
<div class="flex-widget-{{ dataset.display }}-{{ dataset.size }} widget-jenkinsSingle" data-position="{{ dataset.position }}" data-widget="{{ dataset.widget }}" data-display="{{ dataset.display }}" data-size="{{ dataset.size }}" data-rate="{{ dataset.dataRate }}" data-style="{{ dataset.style }}">
  {% if data.jenkins.jobs %}
    {% for job in data.jenkins.jobs %}
      {% if job.name === "dsl-build-pyi-controller" %}
      <p class="jenkins-single-heading">{{ job.name }}</p>
      {# <h4>{{ job.color }}</h4> #}
      {# <img src="https://jenkins.pyidigital.org/static/057ee22c/images/32x32/blue.png" alt=""> #}
      <h4>{{ job.healthReport[0].description }}</h4>
      <p><img src="https://jenkins.pyidigital.org/static/057ee22c/images/32x32/{{job.healthReport[0].iconUrl}}" aria-hidden="true"></p>
      <p>Score: {{ job.healthReport[0].score }}</p>
      <h4>Last completed build</h4>
      <p class="timestamp">{{ job.lastCompletedBuild.timestamp }}</p>
      <p>Build status: {{ job.lastCompletedBuild.result }}</p>
      {% endif %}
    {% endfor %}
  {% else %}
  <p class="jenkins-single-heading">No data received</p>
  <h4>No data from jenkins</h4>
  <p>Check VPN connection</p>
  {% endif %}
</div>
{% endmacro %}
